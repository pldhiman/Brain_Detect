{"ast":null,"code":"import _classCallCheck from \"/Users/PLDhiman/Desktop/HTML/14_brain_project/smart_brain/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/PLDhiman/Desktop/HTML/14_brain_project/smart_brain/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/PLDhiman/Desktop/HTML/14_brain_project/smart_brain/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/PLDhiman/Desktop/HTML/14_brain_project/smart_brain/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/PLDhiman/Desktop/HTML/14_brain_project/smart_brain/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/PLDhiman/Desktop/HTML/14_brain_project/smart_brain/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Particles from 'react-particles-js';\nimport NavigationBar from './components/navigation/navbar.js';\nimport Logo from './components/logo/logo.js';\nimport SignIn from './components/SignIn/signin.js';\nimport Signup from './components/signup/signup.js';\nimport ImgForm from './components/body/imageform.js';\nimport ImgShow from './components/body/imgshow.js';\nimport Rank from './components/rank/rank.js';\nimport { connect } from 'react-redux';\nimport { ActionText, ImageBox } from './redux/actions/action';\nimport Clarifai from 'clarifai';\nvar particls = {\n  \"particles\": {\n    \"number\": {\n      \"value\": 30,\n      \"density\": {\n        \"enable\": true,\n        \"value_area\": 552.4033491425909\n      }\n    },\n    \"color\": {\n      \"value\": \"#ffffff\"\n    },\n    \"shape\": {\n      \"type\": \"circle\",\n      \"stroke\": {\n        \"width\": 0,\n        \"color\": \"#000000\"\n      },\n      \"polygon\": {\n        \"nb_sides\": 5\n      },\n      \"image\": {\n        \"src\": \"img/github.svg\",\n        \"width\": 100,\n        \"height\": 100\n      }\n    },\n    \"opacity\": {\n      \"value\": 0.5,\n      \"random\": false,\n      \"anim\": {\n        \"enable\": false,\n        \"speed\": 1,\n        \"opacity_min\": 0.1,\n        \"sync\": false\n      }\n    },\n    \"size\": {\n      \"value\": 3,\n      \"random\": true,\n      \"anim\": {\n        \"enable\": false,\n        \"speed\": 40,\n        \"size_min\": 0.1,\n        \"sync\": false\n      }\n    },\n    \"line_linked\": {\n      \"enable\": true,\n      \"distance\": 150,\n      \"color\": \"#ffffff\",\n      \"opacity\": 0.4,\n      \"width\": 1\n    },\n    \"move\": {\n      \"enable\": true,\n      \"speed\": 6,\n      \"direction\": \"none\",\n      \"random\": false,\n      \"straight\": false,\n      \"out_mode\": \"out\",\n      \"bounce\": false,\n      \"attract\": {\n        \"enable\": false,\n        \"rotateX\": 600,\n        \"rotateY\": 1200\n      }\n    }\n  },\n  \"interactivity\": {\n    \"detect_on\": \"canvas\",\n    \"events\": {\n      \"onhover\": {\n        \"enable\": false,\n        \"mode\": \"repulse\"\n      },\n      \"onclick\": {\n        \"enable\": false,\n        \"mode\": \"repulse\"\n      },\n      \"resize\": true\n    },\n    \"modes\": {\n      \"grab\": {\n        \"distance\": 400,\n        \"line_linked\": {\n          \"opacity\": 1\n        }\n      },\n      \"bubble\": {\n        \"distance\": 400,\n        \"size\": 40,\n        \"duration\": 2,\n        \"opacity\": 8,\n        \"speed\": 3\n      },\n      \"repulse\": {\n        \"distance\": 200,\n        \"duration\": 0.4\n      },\n      \"push\": {\n        \"particles_nb\": 4\n      },\n      \"remove\": {\n        \"particles_nb\": 2\n      }\n    }\n  },\n  \"retina_detect\": true\n};\nvar app = new Clarifai.App({\n  apiKey: '06b9b66bef864791839c7e5cdeea0e6f'\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    urlChange: state.urlSearch,\n    boxSize: state.imageBox\n  };\n};\n\nvar mapActionToProps = function mapActionToProps(dispatch) {\n  return {\n    onTextChange: function onTextChange(event) {\n      return dispatch(ActionText(event.target.value));\n    },\n    onBoxUpdate: function onBoxUpdate(obj) {\n      return dispatch(ImageBox(obj));\n    }\n  };\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.imageSize = function (data) {\n      var clarifaiFace = data.outputs[0].data.regions[0].region_info.bounding_box;\n      var img = document.getElementById('imageContainer');\n      var img_width = Number(img.width);\n      var img_height = Number(img.height);\n      return {\n        leftCol: clarifaiFace.left_col * img_width,\n        rightCol: img_width - clarifaiFace.right_col * img_width,\n        topRow: clarifaiFace.top_row * img_height,\n        bottomCol: img_height - clarifaiFace.bottom_row * img_height\n      };\n    };\n\n    _this.buttonClick = function () {\n      _this.setState({\n        url: _this.props.urlChange\n      });\n\n      return app.models.predict(Clarifai.FACE_DETECT_MODEL, _this.props.urlChange).then(function (response) {\n        var a = _this.imageSize(response);\n\n        _this.props.onBoxUpdate(a);\n\n        if (_this.isSigned) {\n          fetch('http://localhost:3000/image', {\n            method: 'put',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              id: _this.state.userss.id\n            })\n          }).then(function (r) {\n            return r.json();\n          }).then(function (data) {\n            _this.setState({\n              userss: data\n            });\n          });\n        }\n      }).catch(function (e) {\n        return console.log(e);\n      });\n    };\n\n    _this.router = function (text) {\n      _this.setState({\n        router: text\n      });\n\n      if (_this.state.router === 'home') {\n        _this.setState({\n          isSigned: true\n        });\n      } else if (_this.state.router === 'signin') {\n        _this.setState({\n          isSigned: false\n        });\n      } else {\n        _this.setState({\n          isSigned: false\n        });\n      } // this.setState({router:text})\n\n    };\n\n    _this.loginUserDetailed = function (userData) {\n      _this.setState({\n        userss: {\n          id: userData.id,\n          name: userData.name,\n          email: userData.email,\n          entries: userData.entries\n        }\n      });\n    };\n\n    _this.state = {\n      url: '',\n      router: 'a',\n      isSigned: false,\n      userss: {\n        id: '',\n        name: '',\n        email: '',\n        entries: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(Particles, {\n        params: particls,\n        className: \"particle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), React.createElement(NavigationBar, {\n        routeer: this.router,\n        isSigned: this.state.isSigned,\n        name: this.state.userss.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), React.createElement(Logo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), this.state.router === \"signin\" ? React.createElement(SignIn, {\n        router: this.router,\n        userData: this.loginUserDetailed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, this.state.router === 'signup' ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(Signup, {\n        router: this.router,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(Rank, {\n        rank: this.state.userss.entries,\n        name: this.state.userss.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }), React.createElement(ImgForm, {\n        url: this.props.onTextChange,\n        buttonClick: this.buttonClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }), React.createElement(ImgShow, {\n        imgUrl: this.state.url,\n        boxSz: this.props.boxSize,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default connect(mapStateToProps, mapActionToProps)(App);","map":{"version":3,"sources":["/Users/PLDhiman/Desktop/HTML/14_brain_project/smart_brain/src/App.js"],"names":["React","Component","Particles","NavigationBar","Logo","SignIn","Signup","ImgForm","ImgShow","Rank","connect","ActionText","ImageBox","Clarifai","particls","app","App","apiKey","mapStateToProps","state","urlChange","urlSearch","boxSize","imageBox","mapActionToProps","dispatch","onTextChange","event","target","value","onBoxUpdate","obj","props","imageSize","data","clarifaiFace","outputs","regions","region_info","bounding_box","img","document","getElementById","img_width","Number","width","img_height","height","leftCol","left_col","rightCol","right_col","topRow","top_row","bottomCol","bottom_row","buttonClick","setState","url","models","predict","FACE_DETECT_MODEL","then","response","a","isSigned","fetch","method","headers","body","JSON","stringify","id","userss","r","json","catch","e","console","log","router","text","loginUserDetailed","userData","name","email","entries"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Particles from 'react-particles-js';\nimport NavigationBar from './components/navigation/navbar.js';\nimport Logo from './components/logo/logo.js';\nimport SignIn from './components/SignIn/signin.js';\nimport Signup from './components/signup/signup.js';\nimport ImgForm from './components/body/imageform.js';\nimport ImgShow from './components/body/imgshow.js';\nimport Rank from './components/rank/rank.js';\nimport {connect} from 'react-redux';\nimport {ActionText,ImageBox} from './redux/actions/action';\nimport Clarifai from 'clarifai';\n\n\n\nconst particls={\n  \"particles\": {\n    \"number\": {\n      \"value\": 30,\n      \"density\": {\n        \"enable\": true,\n        \"value_area\": 552.4033491425909\n      }\n    },\n    \"color\": {\n      \"value\": \"#ffffff\"\n    },\n    \"shape\": {\n      \"type\": \"circle\",\n      \"stroke\": {\n        \"width\": 0,\n        \"color\": \"#000000\"\n      },\n      \"polygon\": {\n        \"nb_sides\": 5\n      },\n      \"image\": {\n        \"src\": \"img/github.svg\",\n        \"width\": 100,\n        \"height\": 100\n      }\n    },\n    \"opacity\": {\n      \"value\": 0.5,\n      \"random\": false,\n      \"anim\": {\n        \"enable\": false,\n        \"speed\": 1,\n        \"opacity_min\": 0.1,\n        \"sync\": false\n      }\n    },\n    \"size\": {\n      \"value\": 3,\n      \"random\": true,\n      \"anim\": {\n        \"enable\": false,\n        \"speed\": 40,\n        \"size_min\": 0.1,\n        \"sync\": false\n      }\n    },\n    \"line_linked\": {\n      \"enable\": true,\n      \"distance\": 150,\n      \"color\": \"#ffffff\",\n      \"opacity\": 0.4,\n      \"width\": 1\n    },\n    \"move\": {\n      \"enable\": true,\n      \"speed\": 6,\n      \"direction\": \"none\",\n      \"random\": false,\n      \"straight\": false,\n      \"out_mode\": \"out\",\n      \"bounce\": false,\n      \"attract\": {\n        \"enable\": false,\n        \"rotateX\": 600,\n        \"rotateY\": 1200\n      }\n    }\n  },\n  \"interactivity\": {\n    \"detect_on\": \"canvas\",\n    \"events\": {\n      \"onhover\": {\n        \"enable\": false,\n        \"mode\": \"repulse\"\n      },\n      \"onclick\": {\n        \"enable\": false,\n        \"mode\": \"repulse\"\n      },\n      \"resize\": true\n    },\n    \"modes\": {\n      \"grab\": {\n        \"distance\": 400,\n        \"line_linked\": {\n          \"opacity\": 1\n        }\n      },\n      \"bubble\": {\n        \"distance\": 400,\n        \"size\": 40,\n        \"duration\": 2,\n        \"opacity\": 8,\n        \"speed\": 3\n      },\n      \"repulse\": {\n        \"distance\": 200,\n        \"duration\": 0.4\n      },\n      \"push\": {\n        \"particles_nb\": 4\n      },\n      \"remove\": {\n        \"particles_nb\": 2\n      }\n    }\n  },\n  \"retina_detect\": true\n}\nconst app = new Clarifai.App({\n apiKey: '06b9b66bef864791839c7e5cdeea0e6f'\n});\n\nconst mapStateToProps=(state)=>({\n  urlChange:state.urlSearch,\n  boxSize:state.imageBox,\n});\n\nconst mapActionToProps=(dispatch)=>({\n  onTextChange:(event)=>dispatch(ActionText(event.target.value)),\n  onBoxUpdate:(obj)=>dispatch(ImageBox(obj)),\n});\n\nclass App extends Component {\n  constructor(props){\n  super();\n  this.state={\n    url:'',\n    router:'a',\n    isSigned:false,\n    userss:{\n      id:'',\n      name:'',\n      email:'',\n      entries:''\n    }\n  }\n}\n\n  imageSize=(data)=>{\n    const clarifaiFace=data.outputs[0].data.regions[0].region_info.bounding_box;\n    const img=document.getElementById('imageContainer');\n    const img_width=Number(img.width);\n    const img_height=Number(img.height);\n    return ({\n            leftCol:clarifaiFace.left_col*img_width,\n            rightCol:img_width-(clarifaiFace.right_col*img_width),\n            topRow:clarifaiFace.top_row*img_height,\n            bottomCol:img_height-(clarifaiFace.bottom_row*img_height)\n            });\n  }\n\n  buttonClick=()=>{\n    this.setState({url:this.props.urlChange});\n    return(app.models.predict(Clarifai.FACE_DETECT_MODEL, this.props.urlChange)\n                    .then(\n                      (response)=> {\n                          const a=this.imageSize(response);\n                          this.props.onBoxUpdate(a);\n                          if (this.isSigned){\n                                fetch('http://localhost:3000/image',\n                                {\n                                  method:'put',\n                                  headers:{'Content-Type':'application/json'},\n                                  body:JSON.stringify({\n                                    id:this.state.userss.id,\n                                    })\n                                })\n                                .then(r=>r.json())\n                                .then(data=>{\n                                  this.setState({userss:data});\n                                })\n                          }\n\n                        })\n                      .catch((e)=>console.log(e)));\n  }\n\n  router=(text)=>{\n    this.setState({router:text})\n      if(this.state.router==='home'){\n        this.setState({isSigned:true});\n      }else if (this.state.router==='signin') {\n        this.setState({isSigned:false});\n      }else {\n        this.setState({isSigned:false})\n      }\n      // this.setState({router:text})\n  }\n\n\n  // componentDidMount(){\n  //   fetch('http://localhost:3000/').then(res=>res.json()).then(console.log);\n  //\n  // }\n  loginUserDetailed=(userData)=>{\n    this.setState({\n      userss:{\n        id:userData.id,\n        name:userData.name,\n        email:userData.email,\n        entries:userData.entries\n      }\n    })\n  }\n\n  render() {\n\n\n    return (\n      <div className=\"App\">\n        <Particles params={particls} className=\"particle\" />\n      <NavigationBar routeer={this.router} isSigned={this.state.isSigned} name={this.state.userss.name}/>\n        <Logo/>\n        { this.state.router===\"signin\" ?\n              <SignIn router={this.router} userData={this.loginUserDetailed}/> :\n              <div>\n                {\n                  this.state.router==='signup'\n                    ? <div>\n                       <Signup router={this.router}/>\n                      </div>\n                    : <div>\n                        <Rank rank={this.state.userss.entries} name={this.state.userss.name}/>\n                        <ImgForm url={this.props.onTextChange} buttonClick={this.buttonClick}/>\n                        <ImgShow imgUrl={this.state.url} boxSz={this.props.boxSize}/>\n                      </div>\n                }\n              </div>\n        }\n\n      </div>\n    );\n  }\n}\n\n\n\n\nexport default connect(mapStateToProps,mapActionToProps)(App);\n"]},"metadata":{},"sourceType":"module"}